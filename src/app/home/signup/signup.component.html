<h4 class="text-center mt-2"> Register to embrace a new world!</h4>

<form #form="ngForm"  [formGroup]="signupForm" class="form mt-4 p-2" (submit)="signup()">
    <div class="form-group m-2">
        <input #inputEmail formControlName="email" placeholder="email" class="form-control" autofocus >
        <ap-vmessage *ngIf="signupForm.get('email')?.errors?.['required'] && (form.submitted || signupForm.get('email')?.touched)"
        text="Email is required!">          
        </ap-vmessage>  
        <ap-vmessage *ngIf="signupForm.get('email')?.errors?.['email'] &&  (form.submitted || signupForm.get('email')?.touched) "
        text="Invalid email!">          
        </ap-vmessage>  
    </div>

    <div class="form-group m-2">
        <input formControlName="fullName" placeholder="full name" class="form-control">
        <ap-vmessage *ngIf="signupForm.get('fullName')?.errors?.['required'] && (form.submitted || signupForm.get('fullName')?.touched)"
        text="FullName is required!">          
        </ap-vmessage> 
        <ap-vmessage *ngIf="signupForm.get('fullName')?.errors?.['minlength'] && (form.submitted || signupForm.get('fullName')?.touched)"
        text="Minimo lenght 2 is required!">          
        </ap-vmessage> 
        <ap-vmessage *ngIf="signupForm.get('fullName')?.errors?.['maxlength'] && (form.submitted || signupForm.get('fullName')?.touched)"
        text="Maximo lenght 40 is required!">          
        </ap-vmessage> 
    </div>

    <div class="form-group m-2">
        <input formControlName="userName" placeholder="user name" class="form-control">
        <ap-vmessage *ngIf="signupForm.get('userName')?.errors?.['required'] && (form.submitted || signupForm.get('userName')?.touched)"
        text="userName is required!">          
        </ap-vmessage> 
        <ap-vmessage *ngIf="signupForm.get('userName')?.errors?.['minlength'] && (form.submitted || signupForm.get('userName')?.touched)"
        text="Minimo lenght 3 is required!">          
        </ap-vmessage> 
        <ap-vmessage *ngIf="signupForm.get('userName')?.errors?.['maxlength'] && (form.submitted || signupForm.get('userName')?.touched)"
        text="Maximo lenght 30 is required!">          
        </ap-vmessage> 
        <ap-vmessage    *ngIf="signupForm.get('userName')?.errors?.['lowerCase'] && (form.submitted || signupForm.get('userName')?.touched)"
        text="Must be lowercase">
        </ap-vmessage>
        <ap-vmessage  *ngIf="signupForm.get('userName')?.errors?.['userNameTaken']"
            text="Username already taken">
        </ap-vmessage>
        <small *ngIf="signupForm.get('userName')?.valid" class="text-success">User available</small>
    </div>

    <div class="form-group m-2">
        <input formControlName="password" type="password" placeholder="password" class="form-control">
        <ap-vmessage *ngIf="signupForm.get('password')?.errors?.['required'] && (form.submitted || signupForm.get('password')?.touched)"
        text="Password  is required!">          
        </ap-vmessage> 
        <ap-vmessage *ngIf="signupForm.get('password')?.errors?.['minlength'] && (form.submitted || signupForm.get('password')?.touched)"
            text="Minimum length is 8">
        </ap-vmessage>
        <ap-vmessage *ngIf="signupForm.get('password')?.errors?.['maxlength'] && (form.submitted || signupForm.get('password')?.touched)"
            text="Maximum length is 14">
        </ap-vmessage>
        <ap-vmessage
        *ngIf="signupForm.errors?.['userNamePassword']"
        text="Username and passowrd must be different">
        </ap-vmessage>

    </div>

    <button class="btn btn-primary col-12 m-2">Register</button>

    <p class="m-2">Already a user?<a [routerLink]="['/home']">Sign In!</a></p>
</form>